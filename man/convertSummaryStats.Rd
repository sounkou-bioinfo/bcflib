% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convertSummaryStats.R
\name{convertSummaryStats}
\alias{convertSummaryStats}
\title{Convert Summary Statistics to GWAS-VCF Format}
\usage{
convertSummaryStats(
  inputFile,
  outputFile,
  columnsPreset = "",
  columnsFile = "",
  fastaRef = "",
  faiFile = "",
  sampleName = "SAMPLE",
  ns = 0,
  nc = 0,
  ne = 0,
  outputType = "v",
  writeIndex = FALSE,
  threads = 0,
  cacheSize = 0,
  iffyTag = "IFFY",
  mismatchTag = "REF_MISMATCH",
  recordCmdLine = TRUE
)
}
\arguments{
\item{inputFile}{Path to the input file containing summary statistics}

\item{outputFile}{Path where the output GWAS-VCF file will be written}

\item{columnsPreset}{Preset column headers. One of "PLINK", "PLINK2", "REGENIE", "SAIGE", "BOLT", "METAL", "PGS", or "SSF"}

\item{columnsFile}{Path to a tab-delimited file with column headers}

\item{fastaRef}{Path to reference sequence in FASTA format}

\item{faiFile}{Path to the reference sequence index file}

\item{sampleName}{Sample name for the phenotype (default: "SAMPLE")}

\item{ns}{Number of samples (optional)}

\item{nc}{Number of cases (optional, for binary traits)}

\item{ne}{Effective sample size (optional)}

\item{outputType}{Output file format. One of:
\itemize{
  \item "v": Uncompressed VCF (default)
  \item "z": Compressed VCF
  \item "b": Uncompressed BCF
  \item "u": Compressed BCF
}}

\item{writeIndex}{Whether to create an index for the output file (default: FALSE)}

\item{threads}{Number of worker threads for multithreading (default: 0)}

\item{cacheSize}{Cache size for FASTA reference in bytes (default: 0)}

\item{iffyTag}{FILTER tag for reference allele that couldn't be determined (default: "IFFY")}

\item{mismatchTag}{FILTER tag for when reference doesn't match any allele (default: "REF_MISMATCH")}

\item{recordCmdLine}{Whether to include version and command line in the header (default: TRUE)}
}
\value{
Path to the created GWAS-VCF file
}
\description{
This function converts summary statistics from common formats to GWAS-VCF format,
always writing the result to a file and returning the file path.
}
\details{
This function wraps the bcftools munge functionality to convert summary statistics to
GWAS-VCF format. You must provide either a columns preset or a columns file, and either
a FASTA reference file or an FAI index file.
}
\examples{
\dontrun{
# Convert PLINK format summary statistics to VCF
convertSummaryStats(
    inputFile = "score.assoc",
    outputFile = "score.vcf",
    columnsPreset = "PLINK",
    fastaRef = system.file("extdata", "Test.fa", package = "bcflib")
)

# Convert custom format with column headers file
convertSummaryStats(
    inputFile = "custom_stats.tsv",
    outputFile = "result.vcf.gz",
    columnsFile = "colheaders.tsv",
    fastaRef = system.file("extdata", "Test.fa", package = "bcflib"),
    sampleName = "MyStudy_2025",
    outputType = "z"
)
}

}
